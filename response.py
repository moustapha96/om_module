2025-07-22 10:11:40,175 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.controllers.orange_money_webhook: Webhook Orange Money reçu : {'partner': {'idType': 'CODE', 'id': '562544'}, 'customer': {'idType': 'MSISDN', 'id': '784537547'}, 'amount': {'value': 110.0, 'unit': 'XOF'}, 'type': 'MERCHANT_PAYMENT', 'paymentMethod': 'QRCODE', 'channel': 'MAXIT', 'reference': '', 'transactionId': 'MP250722.1011.D52559', 'createdAt': '2025-07-22T10:11:39.653Z', 'status': 'SUCCESS', 'detail': None, 'metadata': {'transaction_id': 'OM-51-20250722101045-690', 'reference': 'REF-S00051-1753179045463', 'successRedirectUrl': 'https://www.ccbmshop.sn/commandes/51/détails', 'customer_msisdn': '+221784537547', 'description': 'Paiement de 110&nbsp;F\u202fCFA pour la commande S00051', 'cancelRedirectUrl': 'https://www.ccbmshop.sn/commandes/51/détails', 'order_id': '51', 'success_url': 'https://www.ccbmshop.sn/commandes/51/détails'}}
2025-07-22 10:11:40,175 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.controllers.orange_money_webhook: data  {'partner': {'idType': 'CODE', 'id': '562544'}, 'customer': {'idType': 'MSISDN', 'id': '784537547'}, 'amount': {'value': 110.0, 'unit': 'XOF'}, 'type': 'MERCHANT_PAYMENT', 'paymentMethod': 'QRCODE', 'channel': 'MAXIT', 'reference': '', 'transactionId': 'MP250722.1011.D52559', 'createdAt': '2025-07-22T10:11:39.653Z', 'status': 'SUCCESS', 'detail': None, 'metadata': {'transaction_id': 'OM-51-20250722101045-690', 'reference': 'REF-S00051-1753179045463', 'successRedirectUrl': 'https://www.ccbmshop.sn/commandes/51/détails', 'customer_msisdn': '+221784537547', 'description': 'Paiement de 110&nbsp;F\u202fCFA pour la commande S00051', 'cancelRedirectUrl': 'https://www.ccbmshop.sn/commandes/51/détails', 'order_id': '51', 'success_url': 'https://www.ccbmshop.sn/commandes/51/détails'}}
2025-07-22 10:11:40,176 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.controllers.orange_money_webhook: Transaction trouvée : orange.money.transaction(1,)
2025-07-22 10:11:40,176 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.controllers.orange_money_webhook: Transaction ID : OM-51-20250722101045-690, Orange Transaction ID : MP250722.1011.D52559, Status : SUCCESS
2025-07-22 10:11:40,176 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.controllers.orange_money_webhook: Mise à jour du statut de la transaction OM-51-20250722101045-690 à SUCCESS
2025-07-22 10:11:40,186 4 ERROR ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.controllers.orange_money_webhook: Erreur lors du traitement du webhook Orange Money : Wrong value for orange.money.transaction.channel: 'MAXIT'
2025-07-22 10:11:40,194 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 werkzeug: 196.207.246.26 - - [22/Jul/2025 10:11:40] "POST /orange/webhook HTTP/1.0" 200 - 23 0.010 0.013
2025-07-22 10:11:47,723 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.models.orange_money_config: Vérification du statut pour transaction_id : MP250722.1011.D52559
2025-07-22 10:11:47,724 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.models.orange_money_config: Requête GET vers https://api.orange-sonatel.com/api/eWallet/v1/transactions?transactionId=MP250722.1011.D52559 avec headers {'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI4WDRXRElRSk5EdTRKTEtHczV3VHRIWTNXaXV2YV9MY2RBNVFvMjhMNW0wIn0.eyJqdGkiOiIyYzVhY2JiOC0yNWJiLTQ5ZDEtYjhjMS1iZWMwZDhkYTdlNTQiLCJleHAiOjE3NTMxNzkzNDUsIm5iZiI6MCwiaWF0IjoxNzUzMTc5MDQ1LCJpc3MiOiJodHRwczovL2lhYW0ub3JhbmdlLXNvbmF0ZWwuY29tL2F1dGgvcmVhbG1zL2FwaW1hbmFnZW1lbnQiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiOTFlYjNhM2EtMzUxNi00YzBiLTlhOGQtZWRlOThhNTA5NDg1IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiYTNhMDQ4MmUtMDI5Mi00MzhjLTliOGQtYTU4MGQ5MTgxZmExIiwiYXV0aF90aW1lIjowLCJzZXNzaW9uX3N0YXRlIjoiZThhZTBjZTEtZDQ0MC00Yzc1LWIwYzYtYTY4MzYwYWI2ZjQ5IiwiYWNyIjoiMSIsInJlc291cmNlX2FjY2VzcyI6eyJhM2EwNDgyZS0wMjkyLTQzOGMtOWI4ZC1hNTgwZDkxODFmYTEiOnsicm9sZXMiOlsidW1hX3Byb3RlY3Rpb24iXX19LCJzY29wZSI6ImFwaW1hbmFnZW1lbnQgZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiY2xpZW50SWQiOiJhM2EwNDgyZS0wMjkyLTQzOGMtOWI4ZC1hNTgwZDkxODFmYTEiLCJjbGllbnRIb3N0IjoiMzQuNzguMjQ0LjIzNSIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC1hM2EwNDgyZS0wMjkyLTQzOGMtOWI4ZC1hNTgwZDkxODFmYTEiLCJjbGllbnRBZGRyZXNzIjoiMzQuNzguMjQ0LjIzNSIsImVtYWlsIjoic2VydmljZS1hY2NvdW50LWEzYTA0ODJlLTAyOTItNDM4Yy05YjhkLWE1ODBkOTE4MWZhMUBwbGFjZWhvbGRlci5vcmcifQ.VKe-EmNto1NGKaAXOrnrjbMMj3A_vguHxBWjYdnc_n_ABJ9H3CCjYCfryUXGeF0i0Te-iuMyy5AaqjSpAg35RzyKqJWBBzZO3oBJguBF2qKFoE-CPiW-MzSRVAPe4l9rYXX9w23yWPmzoXT5E7LbL45mqX7Xee__pxv8vPvbPHFGax-kjjxaBe5N7-pT4BsEKz2kStjOSdyLKOJrDMLRETsRy2MY3HXxptmaInuWbdGFfYHGJlRiX5iipGi7i_nv9rZ6HP0K7uHpYMMI5ckCACYSOMuq2z_ffUWScL_C-Pgz9RomnLKdwI_5DNJ1bEGXJ_-TELEAEe8Ku6L7pNhhCg', 'Content-Type': 'application/json', 'Accept': 'application/json'}
2025-07-22 10:11:48,049 4 INFO ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.models.orange_money_config: Réponse API - Status Code : 200
2025-07-22 10:11:48,049 4 ERROR ccbmtech-odoo-ccbmshop-prod-21312672 odoo.addons.paiement_om.models.orange_money_config: Erreur inattendue : 'list' object has no attribute 'get'